<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unea (uno)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    .container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
      background-color: white;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 5px;
    }

    h1 {
      color: #333;
    }

    .hand {
      display: flex;
      justify-content: center;
      margin: 20px 0;
    }

    .hand .card {
      padding: 10px;
      margin: 0 5px;
      border-radius: 5px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .hand .card:hover {
      transform: scale(1.1);
    }

    .deck, .discard {
      margin: 20px;
      padding: 20px;
      border-radius: 5px;
      background-color: #ccc;
    }

    .deck {
      cursor: pointer;
      transition: transform 0.2s;
    }

    .deck:hover {
      transform: scale(1.1);
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Unea </h1>
    <div class="hand" id="playerHand"></div>
    <div class="hand" id="botHand"></div>
    <div class="deck" id="deck">Piochez une carte</div>
    <div class="discard" id="discardPile">Défausse</div>
  </div>

  <script>
    const colors = ['rouge', 'vert', 'bleu', 'jaune'];
    const values = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'Skip', 'Reverse', 'Draw Two'];
    let deck = [];
    let playerHand = [];
    let botHand = [];
    let discardPile = [];

    function createDeck() {
      deck = [];
      colors.forEach(color => {
        values.forEach(value => {
          deck.push({ color, value });
        });
      });
      deck = deck.sort(() => Math.random() - 0.5);
    }

    function drawCard(hand) {
      if (deck.length === 0) {
        alert('Le jeu est terminé ! Merci d\'avoir joué.');
        return;
      }
      const card = deck.pop();
      hand.push(card);
    }

    function playCard(hand, index) {
      const card = hand[index];
      hand.splice(index, 1);
      discardPile.push(card);
      updateDiscardPile();
    }

    function updateHands() {
      const playerHandDiv = document.getElementById('playerHand');
      playerHandDiv.innerHTML = '';
      playerHand.forEach((card, index) => {
        const cardDiv = document.createElement('div');
        cardDiv.className = 'card';
        cardDiv.textContent = `${card.color} ${card.value}`;
        cardDiv.style.backgroundColor = card.color;
        cardDiv.addEventListener('click', () => {
          playCard(playerHand, index);
          botTurn();
        });
        playerHandDiv.appendChild(cardDiv);
      });

      const botHandDiv = document.getElementById('botHand');
      botHandDiv.innerHTML = '';
      botHand.forEach(card => {
        const cardDiv = document.createElement('div');
        cardDiv.className = 'card';
        cardDiv.textContent = `${card.color} ${card.value}`;
        cardDiv.style.backgroundColor = card.color;
        botHandDiv.appendChild(cardDiv);
      });
    }

    function updateDiscardPile() {
      const discardPileDiv = document.getElementById('discardPile');
      const card = discardPile[discardPile.length - 1];
      discardPileDiv.textContent = `${card.color} ${card.value}`;
      discardPileDiv.style.backgroundColor = card.color;
    }

    function botTurn() {
      const card = botHand.pop();
      discardPile.push(card);
      updateDiscardPile();
      updateHands();
    }

    document.getElementById('deck').addEventListener('click', () => {
      drawCard(playerHand);
      updateHands();
    });

    createDeck();
    for (let i = 0; i < 5; i++) {
      drawCard(playerHand);
      drawCard(botHand);
    }
    updateHands();
  </script>
</body>

</html>
